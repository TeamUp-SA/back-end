<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="570px" preserveAspectRatio="none" style="width:965px;height:570px;background:#FFFFFF;" version="1.1" viewBox="0 0 965 570" width="965px" zoomAndPan="magnify"><title>Member Profile Update (with optional image upload)</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="378.499" x="290.988" y="28.5352">Member Profile Update (with optional image upload)</text><g><title>WebUser</title><rect fill="#000000" fill-opacity="0.00000" height="370.7266" width="8" x="33.4766" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="37" x2="37" y1="118.9766" y2="489.7031"/></g><g><title>Frontend</title><rect fill="#000000" fill-opacity="0.00000" height="370.7266" width="8" x="301.252" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="304.7227" x2="304.7227" y1="118.9766" y2="489.7031"/></g><g><title>Gateway</title><rect fill="#000000" fill-opacity="0.00000" height="370.7266" width="8" x="440.0684" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="443.7095" x2="443.7095" y1="118.9766" y2="489.7031"/></g><g><title>AppSvc</title><rect fill="#000000" fill-opacity="0.00000" height="370.7266" width="8" x="621.0332" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="624.4136" x2="624.4136" y1="118.9766" y2="489.7031"/></g><g><title>AWS S3</title><rect fill="#000000" fill-opacity="0.00000" height="370.7266" width="8" x="857.8003" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="860.8013" x2="860.8013" y1="118.9766" y2="489.7031"/></g><g><title>Mongo</title><rect fill="#000000" fill-opacity="0.00000" height="370.7266" width="8" x="926.1372" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="929.7993" x2="929.7993" y1="118.9766" y2="489.7031"/></g><g class="participant participant-head" data-participant="WebUser"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58.9531" x="5" y="116.0234">WebUser</text><ellipse cx="37.4766" cy="50.9883" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M37.4766,58.9883 L37.4766,85.9883 M24.4766,66.9883 L50.4766,66.9883 M37.4766,85.9883 L24.4766,100.9883 M37.4766,85.9883 L50.4766,100.9883" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="WebUser"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58.9531" x="5" y="502.2383">WebUser</text><ellipse cx="37.4766" cy="513.6914" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M37.4766,521.6914 L37.4766,548.6914 M24.4766,529.6914 L50.4766,529.6914 M37.4766,548.6914 L24.4766,563.6914 M37.4766,548.6914 L50.4766,563.6914" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="Frontend"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="75.0586" x="267.7227" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61.0586" x="274.7227" y="108.0234">Frontend</text></g><g class="participant participant-tail" data-participant="Frontend"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="75.0586" x="267.7227" y="488.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61.0586" x="274.7227" y="509.2383">Frontend</text></g><g class="participant participant-head" data-participant="Gateway"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="70.7178" x="408.7095" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56.7178" x="415.7095" y="108.0234">Gateway</text></g><g class="participant participant-tail" data-participant="Gateway"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="70.7178" x="408.7095" y="488.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56.7178" x="415.7095" y="509.2383">Gateway</text></g><g class="participant participant-head" data-participant="AppSvc"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="63.2393" x="593.4136" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49.2393" x="600.4136" y="108.0234">AppSvc</text></g><g class="participant participant-tail" data-participant="AppSvc"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="63.2393" x="593.4136" y="488.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49.2393" x="600.4136" y="509.2383">AppSvc</text></g><g class="participant participant-head" data-participant="S3"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="63.998" x="829.8013" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49.998" x="836.8013" y="108.0234">AWS S3</text></g><g class="participant participant-tail" data-participant="S3"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="63.998" x="829.8013" y="488.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49.998" x="836.8013" y="509.2383">AWS S3</text></g><g class="participant participant-head" data-participant="Mongo"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46.6758" x="903.7993" y="116.0234">Mongo</text><path d="M912.1372,66.4883 C912.1372,56.4883 930.1372,56.4883 930.1372,56.4883 C930.1372,56.4883 948.1372,56.4883 948.1372,66.4883 L948.1372,92.4883 C948.1372,102.4883 930.1372,102.4883 930.1372,102.4883 C930.1372,102.4883 912.1372,102.4883 912.1372,92.4883 L912.1372,66.4883" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M912.1372,66.4883 C912.1372,76.4883 930.1372,76.4883 930.1372,76.4883 C930.1372,76.4883 948.1372,76.4883 948.1372,66.4883" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="Mongo"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46.6758" x="903.7993" y="502.2383">Mongo</text><path d="M912.1372,515.1914 C912.1372,505.1914 930.1372,505.1914 930.1372,505.1914 C930.1372,505.1914 948.1372,505.1914 948.1372,515.1914 L948.1372,541.1914 C948.1372,551.1914 930.1372,551.1914 930.1372,551.1914 C930.1372,551.1914 912.1372,551.1914 912.1372,541.1914 L912.1372,515.1914" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M912.1372,515.1914 C912.1372,525.1914 930.1372,525.1914 930.1372,525.1914 C930.1372,525.1914 948.1372,525.1914 948.1372,515.1914" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="message" data-participant-1="WebUser" data-participant-2="Frontend"><polygon fill="#181818" points="293.252,146.2871,303.252,150.2871,293.252,154.2871,297.252,150.2871" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="37.4766" x2="299.252" y1="150.2871" y2="150.2871"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173.437" x="44.4766" y="145.5449">Edit profile + upload image</text></g><g class="message" data-participant-1="Frontend" data-participant-2="Gateway"><polygon fill="#181818" points="432.0684,190.9082,442.0684,194.9082,432.0684,198.9082,436.0684,194.9082" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="305.252" x2="438.0684" y1="194.9082" y2="194.9082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114.8164" x="312.252" y="174.8555">PUT /member/{id}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110.4048" x="312.252" y="190.166">multipart or JSON</text></g><g class="message" data-participant-1="Gateway" data-participant-2="AppSvc"><polygon fill="#181818" points="613.0332,220.2188,623.0332,224.2188,613.0332,228.2188,617.0332,224.2188" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="444.0684" x2="619.0332" y1="224.2188" y2="224.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102.6289" x="451.0684" y="219.4766">Forward request</text></g><g class="message" data-participant-1="AppSvc" data-participant-2="AppSvc"><line style="stroke:#181818;stroke-width:1;" x1="625.0332" x2="667.0332" y1="253.5293" y2="253.5293"/><line style="stroke:#181818;stroke-width:1;" x1="667.0332" x2="667.0332" y1="253.5293" y2="266.5293"/><line style="stroke:#181818;stroke-width:1;" x1="626.0332" x2="667.0332" y1="266.5293" y2="266.5293"/><polygon fill="#181818" points="636.0332,262.5293,626.0332,266.5293,636.0332,270.5293,632.0332,266.5293" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203.9502" x="632.0332" y="248.7871">Validate owner, sanitize payload</text></g><g class="message" data-participant-1="AppSvc" data-participant-2="S3"><polygon fill="#181818" points="849.8003,291.8398,859.8003,295.8398,849.8003,299.8398,853.8003,295.8398" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="625.0332" x2="855.8003" y1="295.8398" y2="295.8398"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212.7671" x="632.0332" y="291.0977">Upload profile image (if provided)</text></g><g class="message" data-participant-1="S3" data-participant-2="AppSvc"><polygon fill="#181818" points="636.0332,321.1504,626.0332,325.1504,636.0332,329.1504,632.0332,325.1504" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="630.0332" x2="860.8003" y1="325.1504" y2="325.1504"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.4932" x="642.0332" y="320.4082">S3 object URL</text></g><g class="message" data-participant-1="AppSvc" data-participant-2="Mongo"><polygon fill="#181818" points="918.1372,350.4609,928.1372,354.4609,918.1372,358.4609,922.1372,354.4609" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="625.0332" x2="924.1372" y1="354.4609" y2="354.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168.3462" x="632.0332" y="349.7188">Update member document</text></g><g class="message" data-participant-1="Mongo" data-participant-2="AppSvc"><polygon fill="#181818" points="636.0332,379.7715,626.0332,383.7715,636.0332,387.7715,632.0332,383.7715" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="630.0332" x2="929.1372" y1="383.7715" y2="383.7715"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141.3813" x="642.0332" y="379.0293">Updated member DTO</text></g><g class="message" data-participant-1="AppSvc" data-participant-2="Gateway"><polygon fill="#181818" points="455.0684,409.082,445.0684,413.082,455.0684,417.082,451.0684,413.082" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="449.0684" x2="624.0332" y1="413.082" y2="413.082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156.9648" x="461.0684" y="408.3398">200 OK (updated profile)</text></g><g class="message" data-participant-1="Gateway" data-participant-2="Frontend"><polygon fill="#181818" points="316.252,438.3926,306.252,442.3926,316.252,446.3926,312.252,442.3926" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="310.252" x2="443.0684" y1="442.3926" y2="442.3926"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113.5659" x="322.252" y="437.6504">Response payload</text></g><g class="message" data-participant-1="Frontend" data-participant-2="WebUser"><polygon fill="#181818" points="48.4766,467.7031,38.4766,471.7031,48.4766,475.7031,44.4766,471.7031" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="42.4766" x2="304.252" y1="471.7031" y2="471.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="243.7754" x="54.4766" y="466.9609">Show success toast &amp; refreshed profile</text></g><!--SRC=[LP5DRy8m38Rl-HKMXmcq8T2uxJ09QMFIla2KZiikQMCWKvjaYKl5flttcRP0UufYlxOVloPD6S8RvWbwM7YxqVoDdPA4q2yrxS0wqjR837GkjmY5ownK0o5JiXxMcCG1lN3IaqwrauPWvgqXDAeJVEA6fJnqObFdedtQ2VMcwmYYIGzau4SmXanaO41hjbQ8PXmCxyzJu0uUbIPm3VjrGrZZYhECIne6hbZ4AnZbrTAZNwt-FarUPAIF9C1RFKVpTt5ISs4DodKpwqlf5NZyBZ2GQ19joOVCTEMUBGtw6mZIQD8_24uUZbojccZ2-hYcFU7N9lVrvXZPQuLiDUk6xH7yjyaNfWJnyhNLhpAfQba1rFk1iccHeo5HfpkTQgKwIHzMytExZb-tup7CNw1VDFg6Td0ngNkH9GPdJRWiVJa32qzNv4rsjeHGf2c606Hb8BXYSpSUm-uovXy0]--></g></svg>