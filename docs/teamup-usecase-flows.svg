<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="721px" preserveAspectRatio="none" style="width:1202px;height:721px;background:#FFFFFF;" version="1.1" viewBox="0 0 1202 721" width="1202px" zoomAndPan="magnify"><title>User Registration (Email &amp; Profile Bootstrap)</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="321.0225" x="442.168" y="28.5352">User Registration (Email &amp; Profile Bootstrap)</text><g><title>WebUser</title><rect fill="#000000" fill-opacity="0.00000" height="504.5898" width="8" x="33.4766" y="121.4648"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="37" x2="37" y1="121.4648" y2="626.0547"/></g><g><title>Web Front-End</title><rect fill="#000000" fill-opacity="0.00000" height="504.5898" width="8" x="291.9717" y="121.4648"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="294.9893" x2="294.9893" y1="121.4648" y2="626.0547"/></g><g><title>KrakenD API Gateway</title><rect fill="#000000" fill-opacity="0.00000" height="504.5898" width="8" x="444.5815" y="121.4648"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="448.1992" x2="448.1992" y1="121.4648" y2="626.0547"/></g><g><title>Auth Service</title><rect fill="#000000" fill-opacity="0.00000" height="504.5898" width="8" x="582.981" y="121.4648"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="586.9639" x2="586.9639" y1="121.4648" y2="626.0547"/></g><g><title>PostgreSQL</title><rect fill="#000000" fill-opacity="0.00000" height="504.5898" width="8" x="759.7944" y="121.4648"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="763.3696" x2="763.3696" y1="121.4648" y2="626.0547"/></g><g><title>Redis</title><rect fill="#000000" fill-opacity="0.00000" height="504.5898" width="8" x="866.4468" y="121.4648"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="870.2192" x2="870.2192" y1="121.4648" y2="626.0547"/></g><g><title>App Service</title><rect fill="#000000" fill-opacity="0.00000" height="504.5898" width="8" x="978.1963" y="121.4648"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="981.6743" x2="981.6743" y1="121.4648" y2="626.0547"/></g><g><title>MongoDB</title><rect fill="#000000" fill-opacity="0.00000" height="504.5898" width="8" x="1161.751" y="121.4648"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1165.1436" x2="1165.1436" y1="121.4648" y2="626.0547"/></g><g class="participant participant-head" data-participant="WebUser"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58.9531" x="5" y="118.5117">WebUser</text><ellipse cx="37.4766" cy="53.4766" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M37.4766,61.4766 L37.4766,88.4766 M24.4766,69.4766 L50.4766,69.4766 M37.4766,88.4766 L24.4766,103.4766 M37.4766,88.4766 L50.4766,103.4766" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="WebUser"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58.9531" x="5" y="638.5898">WebUser</text><ellipse cx="37.4766" cy="650.043" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M37.4766,658.043 L37.4766,685.043 M24.4766,666.043 L50.4766,666.043 M37.4766,685.043 L24.4766,700.043 M37.4766,685.043 L50.4766,700.043" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="Frontend"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115.9648" x="237.9893" y="89.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.9648" x="244.9893" y="110.5117">Web Front-End</text></g><g class="participant participant-tail" data-participant="Frontend"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115.9648" x="237.9893" y="625.0547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.9648" x="244.9893" y="645.5898">Web Front-End</text></g><g class="participant participant-head" data-participant="Gateway"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="158.7646" x="369.1992" y="89.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144.7646" x="376.1992" y="110.5117">KrakenD API Gateway</text></g><g class="participant participant-tail" data-participant="Gateway"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="158.7646" x="369.1992" y="625.0547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144.7646" x="376.1992" y="645.5898">KrakenD API Gateway</text></g><g class="participant participant-head" data-participant="AuthSvc"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98.0342" x="537.9639" y="89.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.0342" x="544.9639" y="110.5117">Auth Service</text></g><g class="participant participant-tail" data-participant="AuthSvc"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98.0342" x="537.9639" y="625.0547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.0342" x="544.9639" y="645.5898">Auth Service</text></g><g class="participant participant-head" data-participant="Postgres"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.8496" x="722.3696" y="102.0234">PostgreSQL</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55.2412" x="733.1738" y="118.5117">Auth DB</text><path d="M745.7944,52.4883 C745.7944,42.4883 763.7944,42.4883 763.7944,42.4883 C763.7944,42.4883 781.7944,42.4883 781.7944,52.4883 L781.7944,78.4883 C781.7944,88.4883 763.7944,88.4883 763.7944,88.4883 C763.7944,88.4883 745.7944,88.4883 745.7944,78.4883 L745.7944,52.4883" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M745.7944,52.4883 C745.7944,62.4883 763.7944,62.4883 763.7944,62.4883 C763.7944,62.4883 781.7944,62.4883 781.7944,52.4883" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="Postgres"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.8496" x="722.3696" y="638.5898">PostgreSQL</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55.2412" x="733.1738" y="655.0781">Auth DB</text><path d="M745.7944,668.0313 C745.7944,658.0313 763.7944,658.0313 763.7944,658.0313 C763.7944,658.0313 781.7944,658.0313 781.7944,668.0313 L781.7944,694.0313 C781.7944,704.0313 763.7944,704.0313 763.7944,704.0313 C763.7944,704.0313 745.7944,704.0313 745.7944,694.0313 L745.7944,668.0313" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M745.7944,668.0313 C745.7944,678.0313 763.7944,678.0313 763.7944,678.0313 C763.7944,678.0313 781.7944,678.0313 781.7944,668.0313" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="Redis"><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110.4551" x="815.2192" y="73.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36.6475" x="852.123" y="94.0234">Redis</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96.4551" x="822.2192" y="110.5117">Session Cache</text></g><g class="participant participant-tail" data-participant="Redis"><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110.4551" x="815.2192" y="625.0547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36.6475" x="852.123" y="645.5898">Redis</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96.4551" x="822.2192" y="662.0781">Session Cache</text></g><g class="participant participant-head" data-participant="AppSvc"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="93.0439" x="935.6743" y="89.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79.0439" x="942.6743" y="110.5117">App Service</text></g><g class="participant participant-tail" data-participant="AppSvc"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="93.0439" x="935.6743" y="625.0547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79.0439" x="942.6743" y="645.5898">App Service</text></g><g class="participant participant-head" data-participant="Mongo"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65.2148" x="1130.1436" y="118.5117">MongoDB</text><path d="M1147.751,68.9766 C1147.751,58.9766 1165.751,58.9766 1165.751,58.9766 C1165.751,58.9766 1183.751,58.9766 1183.751,68.9766 L1183.751,94.9766 C1183.751,104.9766 1165.751,104.9766 1165.751,104.9766 C1165.751,104.9766 1147.751,104.9766 1147.751,94.9766 L1147.751,68.9766" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M1147.751,68.9766 C1147.751,78.9766 1165.751,78.9766 1165.751,78.9766 C1165.751,78.9766 1183.751,78.9766 1183.751,68.9766" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="Mongo"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65.2148" x="1130.1436" y="638.5898">MongoDB</text><path d="M1147.751,651.543 C1147.751,641.543 1165.751,641.543 1165.751,641.543 C1165.751,641.543 1183.751,641.543 1183.751,651.543 L1183.751,677.543 C1183.751,687.543 1165.751,687.543 1165.751,687.543 C1165.751,687.543 1147.751,687.543 1147.751,677.543 L1147.751,651.543" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M1147.751,651.543 C1147.751,661.543 1165.751,661.543 1165.751,661.543 C1165.751,661.543 1183.751,661.543 1183.751,651.543" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="message" data-participant-1="WebUser" data-participant-2="Frontend"><polygon fill="#181818" points="283.9717,164.0859,293.9717,168.0859,283.9717,172.0859,287.9717,168.0859" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="37.4766" x2="289.9717" y1="168.0859" y2="168.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129.7778" x="44.4766" y="148.0332">Fill registration form</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="234.4951" x="44.4766" y="163.3438">(name, email, password, profile data)</text></g><g class="message" data-participant-1="Frontend" data-participant-2="Gateway"><polygon fill="#181818" points="436.5815,193.3965,446.5815,197.3965,436.5815,201.3965,440.5815,197.3965" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="295.9717" x2="442.5815" y1="197.3965" y2="197.3965"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.9087" x="302.9717" y="192.6543">POST /auth/register</text></g><g class="message" data-participant-1="Gateway" data-participant-2="AuthSvc"><polygon fill="#181818" points="574.981,222.707,584.981,226.707,574.981,230.707,578.981,226.707" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="448.5815" x2="580.981" y1="226.707" y2="226.707"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102.6289" x="455.5815" y="221.9648">Forward request</text></g><g class="message" data-participant-1="AuthSvc" data-participant-2="Postgres"><polygon fill="#181818" points="751.7944,267.3281,761.7944,271.3281,751.7944,275.3281,755.7944,271.3281" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="586.981" x2="757.7944" y1="271.3281" y2="271.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152.8135" x="593.981" y="251.2754">Check email uniqueness</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142.2383" x="593.981" y="266.5859">and create user record</text></g><g class="message" data-participant-1="Postgres" data-participant-2="AuthSvc"><polygon fill="#181818" points="597.981,296.6387,587.981,300.6387,597.981,304.6387,593.981,300.6387" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="591.981" x2="762.7944" y1="300.6387" y2="300.6387"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90.3525" x="603.981" y="295.8965">User persisted</text></g><g class="message" data-participant-1="AuthSvc" data-participant-2="AuthSvc"><line style="stroke:#181818;stroke-width:1;" x1="586.981" x2="628.981" y1="345.2598" y2="345.2598"/><line style="stroke:#181818;stroke-width:1;" x1="628.981" x2="628.981" y1="345.2598" y2="358.2598"/><line style="stroke:#181818;stroke-width:1;" x1="587.981" x2="628.981" y1="358.2598" y2="358.2598"/><polygon fill="#181818" points="597.981,354.2598,587.981,358.2598,597.981,362.2598,593.981,358.2598" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95.6592" x="593.981" y="325.207">Hash password</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122.5479" x="593.981" y="340.5176">Generate username</text></g><g class="message" data-participant-1="AuthSvc" data-participant-2="AppSvc"><polygon fill="#181818" points="970.1963,398.8809,980.1963,402.8809,970.1963,406.8809,974.1963,402.8809" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="586.981" x2="976.1963" y1="402.8809" y2="402.8809"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102.5146" x="593.981" y="382.8281">POST /member/</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159.415" x="593.981" y="398.1387">(create profile document)</text></g><g class="message" data-participant-1="AppSvc" data-participant-2="Mongo"><polygon fill="#181818" points="1153.751,428.1914,1163.751,432.1914,1153.751,436.1914,1157.751,432.1914" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="982.1963" x2="1159.751" y1="432.1914" y2="432.1914"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159.5547" x="989.1963" y="427.4492">Insert member document</text></g><g class="message" data-participant-1="Mongo" data-participant-2="AppSvc"><polygon fill="#181818" points="993.1963,457.502,983.1963,461.502,993.1963,465.502,989.1963,461.502" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="987.1963" x2="1164.751" y1="461.502" y2="461.502"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102.1211" x="999.1963" y="456.7598">Member created</text></g><g class="message" data-participant-1="AppSvc" data-participant-2="AuthSvc"><polygon fill="#181818" points="597.981,486.8125,587.981,490.8125,597.981,494.8125,593.981,490.8125" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="591.981" x2="981.1963" y1="490.8125" y2="490.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102.2544" x="603.981" y="486.0703">Success payload</text></g><g class="message" data-participant-1="AuthSvc" data-participant-2="Redis"><polygon fill="#181818" points="858.4468,516.123,868.4468,520.123,858.4468,524.123,862.4468,520.123" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="586.981" x2="864.4468" y1="520.123" y2="520.123"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="225.4751" x="593.981" y="515.3809">Cache session seed (optional invite)</text></g><g class="message" data-participant-1="AuthSvc" data-participant-2="Gateway"><polygon fill="#181818" points="459.5815,545.4336,449.5815,549.4336,459.5815,553.4336,455.5815,549.4336" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="453.5815" x2="585.981" y1="549.4336" y2="549.4336"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77.7969" x="465.5815" y="544.6914">201 Created</text></g><g class="message" data-participant-1="Gateway" data-participant-2="Frontend"><polygon fill="#181818" points="306.9717,574.7441,296.9717,578.7441,306.9717,582.7441,302.9717,578.7441" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="300.9717" x2="447.5815" y1="578.7441" y2="578.7441"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128.6099" x="312.9717" y="574.002">Registration success</text></g><g class="message" data-participant-1="Frontend" data-participant-2="WebUser"><polygon fill="#181818" points="48.4766,604.0547,38.4766,608.0547,48.4766,612.0547,44.4766,608.0547" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="42.4766" x2="294.9717" y1="608.0547" y2="608.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177.0171" x="54.4766" y="603.3125">Show confirmation message</text></g><!--SRC=[NLFBRjim4BphAnO-53OGmMsFHL4WSHuDsg1krA8NNTRKsY8YaIf9sSZVT_cG8lP6SMTdTeOh9rr7yDkIWMSwIUiCEgaLhEzwb1syWxtHHycG6wsThmwR0eNJ1lxGmRSL0nedXHnGELZn9TmRhLnvfveLe8rVf9eSzytW2wbRkDu_mWCwkk1hGATp3huUNGiLcRCK553-eZgBea671xG4gxssxcIe-lczLW5-UnEGwTxcXC_KI5khYgprNdSesaWS2l-93qEkFGovz9DM9vtamhaeKZHGVfdjmoUubrq7PXdoKPk-Lck5FLq1-S2lO41hBzeqV4h9UwbDCHCnQKg9EVS_gb-mHNQyZSpy85ELWIaeBwxD1Kt3-dz7igwOAWoQCcBKhYNn4YU1KKc6AiweLiYwmX0Jm-YD6H8yuapokIoNBC7xGCRwUPgbrDiyNz6sizTQFR2GcUXz7bbNY7nssrD_8BFbuD98Sr1QZ3qfjobI1_U65-7MHyN43cBlZ2nYkLoAF4L8v6vcgcpwQXI2Ws43hvt6p69O8H-bNogmQSKiKGDhFVXdnmwaEaj7cxU-x54_lly0koG_FsQ-Izc_QkCqYnLXyBI3F6ohBo2qEahJnuQUqNYYVm00]--></g></svg>